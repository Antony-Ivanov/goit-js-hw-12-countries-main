{"id":"Focm","dependencies":[{"name":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\package.json","includedInParent":true,"mtime":1631299571092},{"name":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\.browserslistrc","includedInParent":true,"mtime":1631125431702},{"name":"@pnotify/core/dist/PNotify.css","loc":{"line":1,"column":7},"parent":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\src\\index.js","resolved":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\node_modules\\@pnotify\\core\\dist\\PNotify.css"},{"name":"@pnotify/core/dist/BrightTheme.css","loc":{"line":2,"column":7},"parent":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\src\\index.js","resolved":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\node_modules\\@pnotify\\core\\dist\\BrightTheme.css"},{"name":"@pnotify/core","loc":{"line":3,"column":68},"parent":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\src\\index.js","resolved":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\node_modules\\@pnotify\\core\\dist\\PNotify.js"},{"name":"lodash","loc":{"line":5,"column":25},"parent":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\src\\index.js","resolved":"C:\\Users\\zveru\\Documents\\JS\\goit-js-hw-12-countries\\node_modules\\lodash\\lodash.js"}],"generated":{"js":"\"use strict\";require(\"@pnotify/core/dist/PNotify.css\"),require(\"@pnotify/core/dist/BrightTheme.css\");var e=require(\"@pnotify/core\"),t=require(\"lodash\");const r=document.getElementById(\"searchbar\"),n=document.getElementById(\"output\");function s(){n.innerHTML=\"\",fetch(`https://restcountries.eu/rest/v2/name/${r.value}`).then(e=>{if(!e.ok)throw new Error(\"HTTP status \"+e.status);return e.json()}).then(t=>1===t.length?n.insertAdjacentHTML(\"beforeend\",t.map(({name:e,capital:t,population:r,languages:n,flag:s})=>`<h2 class='country-name'>${e}</h2> <div class='wrapper'><ul class = 'markers-off-list left-part'><li> Capital: ${t}</li>\\n         <li> Population: ${r}</li> <li>Languages: <ul class='markers-on-list'> ${n.map(e=>`<li>${e.name}</li>`).join(\"\")}</li></ul></ul>\\n          <div class=right-part><img class= 'flag-img' src='${s}'></div> </div>`)):t.length>1&&t.length<=10?n.insertAdjacentHTML(\"beforeend\",`<ul class='markers-on-list'>${t.map(({name:e})=>`<li>${e}</li>`).join(\"\")} </ul>`):(0,e.error)({text:\"Too many matches found. Please, enter a more specific query\"})).catch(t=>(0,e.error)({text:t}))}r.addEventListener(\"input\",(0,t.debounce)(s,500));"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":54,"column":1},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":55}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":63}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":101}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":105}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":107}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":115}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":132}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":134}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":142}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":152}},{"source":"index.js","name":"inputRef","original":{"line":9,"column":6},"generated":{"line":1,"column":158}},{"source":"index.js","name":"document","original":{"line":9,"column":17},"generated":{"line":1,"column":160}},{"source":"index.js","name":"getElementById","original":{"line":9,"column":26},"generated":{"line":1,"column":169}},{"source":"index.js","original":{"line":9,"column":41},"generated":{"line":1,"column":184}},{"source":"index.js","name":"outputRef","original":{"line":10,"column":6},"generated":{"line":1,"column":197}},{"source":"index.js","name":"document","original":{"line":10,"column":18},"generated":{"line":1,"column":199}},{"source":"index.js","name":"getElementById","original":{"line":10,"column":27},"generated":{"line":1,"column":208}},{"source":"index.js","original":{"line":10,"column":42},"generated":{"line":1,"column":223}},{"source":"index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":233}},{"source":"index.js","name":"onInput","original":{"line":13,"column":9},"generated":{"line":1,"column":242}},{"source":"index.js","name":"outputRef","original":{"line":14,"column":0},"generated":{"line":1,"column":246}},{"source":"index.js","name":"innerHTML","original":{"line":14,"column":10},"generated":{"line":1,"column":248}},{"source":"index.js","original":{"line":14,"column":22},"generated":{"line":1,"column":258}},{"source":"index.js","name":"fetch","original":{"line":16,"column":2},"generated":{"line":1,"column":261}},{"source":"index.js","name":"inputRef","original":{"line":16,"column":49},"generated":{"line":1,"column":308}},{"source":"index.js","name":"value","original":{"line":16,"column":58},"generated":{"line":1,"column":310}},{"source":"index.js","name":"then","original":{"line":17,"column":5},"generated":{"line":1,"column":319}},{"source":"index.js","name":"response","original":{"line":17,"column":10},"generated":{"line":1,"column":324}},{"source":"index.js","original":{"line":18,"column":10},"generated":{"line":1,"column":328}},{"source":"index.js","name":"response","original":{"line":18,"column":11},"generated":{"line":1,"column":332}},{"source":"index.js","name":"ok","original":{"line":18,"column":20},"generated":{"line":1,"column":334}},{"source":"index.js","original":{"line":19,"column":14},"generated":{"line":1,"column":337}},{"source":"index.js","original":{"line":19,"column":14},"generated":{"line":1,"column":343}},{"source":"index.js","name":"Error","original":{"line":19,"column":18},"generated":{"line":1,"column":347}},{"source":"index.js","original":{"line":19,"column":24},"generated":{"line":1,"column":353}},{"source":"index.js","name":"response","original":{"line":19,"column":41},"generated":{"line":1,"column":368}},{"source":"index.js","name":"status","original":{"line":19,"column":50},"generated":{"line":1,"column":370}},{"source":"index.js","name":"response","original":{"line":22,"column":13},"generated":{"line":1,"column":378}},{"source":"index.js","name":"response","original":{"line":22,"column":13},"generated":{"line":1,"column":385}},{"source":"index.js","name":"json","original":{"line":22,"column":22},"generated":{"line":1,"column":387}},{"source":"index.js","name":"then","original":{"line":24,"column":5},"generated":{"line":1,"column":396}},{"source":"index.js","name":"data","original":{"line":24,"column":10},"generated":{"line":1,"column":401}},{"source":"index.js","original":{"line":25,"column":26},"generated":{"line":1,"column":404}},{"source":"index.js","name":"data","original":{"line":25,"column":10},"generated":{"line":1,"column":408}},{"source":"index.js","name":"length","original":{"line":25,"column":15},"generated":{"line":1,"column":410}},{"source":"index.js","name":"outputRef","original":{"line":26,"column":15},"generated":{"line":1,"column":417}},{"source":"index.js","name":"insertAdjacentHTML","original":{"line":26,"column":25},"generated":{"line":1,"column":419}},{"source":"index.js","original":{"line":27,"column":10},"generated":{"line":1,"column":438}},{"source":"index.js","name":"data","original":{"line":28,"column":10},"generated":{"line":1,"column":450}},{"source":"index.js","name":"map","original":{"line":28,"column":15},"generated":{"line":1,"column":452}},{"source":"index.js","original":{"line":29,"column":12},"generated":{"line":1,"column":456}},{"source":"index.js","name":"name","original":{"line":30,"column":14},"generated":{"line":1,"column":458}},{"source":"index.js","name":"name","original":{"line":30,"column":14},"generated":{"line":1,"column":463}},{"source":"index.js","name":"capital","original":{"line":31,"column":14},"generated":{"line":1,"column":465}},{"source":"index.js","name":"capital","original":{"line":31,"column":14},"generated":{"line":1,"column":473}},{"source":"index.js","name":"population","original":{"line":32,"column":14},"generated":{"line":1,"column":475}},{"source":"index.js","name":"population","original":{"line":32,"column":14},"generated":{"line":1,"column":486}},{"source":"index.js","name":"languages","original":{"line":33,"column":14},"generated":{"line":1,"column":488}},{"source":"index.js","name":"languages","original":{"line":33,"column":14},"generated":{"line":1,"column":498}},{"source":"index.js","name":"flag","original":{"line":34,"column":14},"generated":{"line":1,"column":500}},{"source":"index.js","name":"flag","original":{"line":34,"column":14},"generated":{"line":1,"column":505}},{"source":"index.js","name":"name","original":{"line":35,"column":46},"generated":{"line":1,"column":538}},{"source":"index.js","name":"capital","original":{"line":35,"column":135},"generated":{"line":1,"column":624}},{"source":"index.js","name":"population","original":{"line":36,"column":28},"generated":{"line":1,"column":661}},{"source":"index.js","name":"languages","original":{"line":36,"column":91},"generated":{"line":1,"column":715}},{"source":"index.js","name":"map","original":{"line":37,"column":15},"generated":{"line":1,"column":717}},{"source":"index.js","name":"el","original":{"line":37,"column":19},"generated":{"line":1,"column":721}},{"source":"index.js","name":"el","original":{"line":37,"column":32},"generated":{"line":1,"column":731}},{"source":"index.js","name":"name","original":{"line":37,"column":35},"generated":{"line":1,"column":733}},{"source":"index.js","name":"join","original":{"line":38,"column":15},"generated":{"line":1,"column":746}},{"source":"index.js","original":{"line":38,"column":20},"generated":{"line":1,"column":751}},{"source":"index.js","name":"flag","original":{"line":39,"column":62},"generated":{"line":1,"column":834}},{"source":"index.js","name":"data","original":{"line":43,"column":10},"generated":{"line":1,"column":855}},{"source":"index.js","name":"length","original":{"line":43,"column":15},"generated":{"line":1,"column":857}},{"source":"index.js","original":{"line":43,"column":24},"generated":{"line":1,"column":864}},{"source":"index.js","name":"data","original":{"line":43,"column":29},"generated":{"line":1,"column":867}},{"source":"index.js","name":"length","original":{"line":43,"column":34},"generated":{"line":1,"column":869}},{"source":"index.js","original":{"line":43,"column":44},"generated":{"line":1,"column":877}},{"source":"index.js","name":"outputRef","original":{"line":44,"column":15},"generated":{"line":1,"column":880}},{"source":"index.js","name":"insertAdjacentHTML","original":{"line":44,"column":25},"generated":{"line":1,"column":882}},{"source":"index.js","original":{"line":45,"column":10},"generated":{"line":1,"column":901}},{"source":"index.js","name":"data","original":{"line":46,"column":41},"generated":{"line":1,"column":944}},{"source":"index.js","name":"map","original":{"line":47,"column":13},"generated":{"line":1,"column":946}},{"source":"index.js","original":{"line":47,"column":17},"generated":{"line":1,"column":950}},{"source":"index.js","name":"name","original":{"line":47,"column":20},"generated":{"line":1,"column":952}},{"source":"index.js","name":"name","original":{"line":47,"column":20},"generated":{"line":1,"column":957}},{"source":"index.js","name":"name","original":{"line":47,"column":38},"generated":{"line":1,"column":969}},{"source":"index.js","name":"join","original":{"line":48,"column":13},"generated":{"line":1,"column":979}},{"source":"index.js","original":{"line":48,"column":18},"generated":{"line":1,"column":984}},{"source":"index.js","original":{"line":51,"column":13},"generated":{"line":1,"column":998}},{"source":"index.js","original":{"line":51,"column":19},"generated":{"line":1,"column":1000}},{"source":"index.js","original":{"line":51,"column":19},"generated":{"line":1,"column":1002}},{"source":"index.js","original":{"line":51,"column":19},"generated":{"line":1,"column":1009}},{"source":"index.js","name":"text","original":{"line":51,"column":21},"generated":{"line":1,"column":1010}},{"source":"index.js","original":{"line":51,"column":27},"generated":{"line":1,"column":1015}},{"source":"index.js","name":"catch","original":{"line":53,"column":5},"generated":{"line":1,"column":1080}},{"source":"index.js","name":"err","original":{"line":53,"column":11},"generated":{"line":1,"column":1086}},{"source":"index.js","original":{"line":53,"column":16},"generated":{"line":1,"column":1090}},{"source":"index.js","original":{"line":53,"column":22},"generated":{"line":1,"column":1092}},{"source":"index.js","original":{"line":53,"column":22},"generated":{"line":1,"column":1094}},{"source":"index.js","original":{"line":53,"column":22},"generated":{"line":1,"column":1101}},{"source":"index.js","name":"text","original":{"line":53,"column":24},"generated":{"line":1,"column":1102}},{"source":"index.js","name":"err","original":{"line":53,"column":30},"generated":{"line":1,"column":1107}},{"source":"index.js","name":"inputRef","original":{"line":11,"column":0},"generated":{"line":1,"column":1112}},{"source":"index.js","name":"addEventListener","original":{"line":11,"column":9},"generated":{"line":1,"column":1114}},{"source":"index.js","original":{"line":11,"column":26},"generated":{"line":1,"column":1131}},{"source":"index.js","original":{"line":11,"column":35},"generated":{"line":1,"column":1140}},{"source":"index.js","name":"onInput","original":{"line":11,"column":44},"generated":{"line":1,"column":1142}},{"source":"index.js","name":"onInput","original":{"line":11,"column":44},"generated":{"line":1,"column":1144}},{"source":"index.js","name":"onInput","original":{"line":11,"column":44},"generated":{"line":1,"column":1154}},{"source":"index.js","original":{"line":11,"column":53},"generated":{"line":1,"column":1156}}],"sources":{"index.js":"import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert, notice, info, success, error, defaultModules } from '@pnotify/core';\r\n\r\nimport { debounce } from 'lodash';\r\n\r\n\r\n\r\nconst inputRef = document.getElementById('searchbar');\r\nconst outputRef = document.getElementById('output');\r\ninputRef.addEventListener('input', debounce(onInput, 500));\r\n\r\nfunction onInput() {\r\noutputRef.innerHTML = ''; // очистка блока вывода информации\r\n\r\n  fetch(`https://restcountries.eu/rest/v2/name/${inputRef.value}`)\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error(\"HTTP status \" + response.status); //если статус ответа сервера  не в диапазоне 200-299, генерируем ошибку и передаем управление в catch\r\n    \r\n      }\r\n      return response.json(); //если ошибки нет, возвращается тело ответа в формате json, и обрабатівается в следующем .then \r\n    })\r\n    .then(data => { // если страна только одна, генерируем разметку с  данными и флагом\r\n      if (data.length === 1) {\r\n        return outputRef.insertAdjacentHTML(\r\n          'beforeend',\r\n          data.map(\r\n            ({\r\n              name,\r\n              capital,\r\n              population,\r\n              languages,\r\n              flag,\r\n            }) => `<h2 class='country-name'>${name}</h2> <div class='wrapper'><ul class = 'markers-off-list left-part'><li> Capital: ${capital}</li>\r\n         <li> Population: ${population}</li> <li>Languages: <ul class='markers-on-list'> ${languages\r\n              .map(el => `<li>${el.name}</li>`)\r\n              .join('')}</li></ul></ul>\r\n          <div class=right-part><img class= 'flag-img' src='${flag}'></div> </div>`,\r\n          ),\r\n        );\r\n      }\r\n      if (data.length > 1 && data.length <= 10) {  // если стран до 10 - генерируем список из 10 стран \r\n        return outputRef.insertAdjacentHTML(\r\n          'beforeend',\r\n          `<ul class='markers-on-list'>${data\r\n            .map(({ name }) => `<li>${name}</li>`)\r\n            .join('')} </ul>`,\r\n        );\r\n      }\r\n      return error({ text: 'Too many matches found. Please, enter a more specific query' }); //если сопадений много  \r\n    })\r\n    .catch(err=>error({ text: err})); // выводим сообщение об ошибке\r\n}\r\n\r\n"},"lineCount":null}},"error":null,"hash":"84fc67a54f02adb042bcd8929929e95d","cacheData":{"env":{}}}